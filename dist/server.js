require("dotenv").config(),require("./models/database");const cookieSession=require("cookie-session"),express=require("express"),path=require("path"),nunjucks=require("nunjucks"),bodyParser=require("body-parser"),app=express(),apiRoutes=(app.set("view engine","njk"),app.use(express.static(path.join(__dirname,"/public/"))),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!1})),app.use(cookieSession({name:"session",keys:["super-secret-session-key"],maxAge:864e5})),nunjucks.configure(path.resolve(__dirname,"public/views"),{express:app,autoscape:!0,noCache:!1,watch:!0}),require("./routes/apiRoutes")),adminRoutes=require("./routes/adminRoutes"),signinRoutes=require("./routes/signinRoutes"),indexRoutes=require("./routes/indexRoutes"),PORT=(app.use("/api",apiRoutes),app.use("/admin",adminRoutes),app.use("/signin",signinRoutes),app.use("/",indexRoutes),process.env.PORT||3e3);app.listen(PORT,()=>{console.log(`App listening to ${PORT}....`),console.log("Press Ctrl+C to quit.")});